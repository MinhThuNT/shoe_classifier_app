<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Shoe Classification & Chatbot</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <script src="{{ url_for('static', filename='scripts.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- C·ªôt b√™n tr√°i: Upload ·∫£nh + K·∫øt qu·∫£ ph√¢n lo·∫°i & Grad-CAM -->
        <div class="panel classification-panel">
            <h3>Upload Image for Classification</h3>

            <form id="uploadForm" enctype="multipart/form-data">
                <!-- Nh√≥m input theo h√†ng ngang -->
                <div class="input-row">
                    <input type="file" id="fileInput" name="file" accept="image/*" class="text-input"/>

                    <div class="text-upload-group">
                        <input type="text" id="textInput" name="description" placeholder="Enter a brief description (optional)..." class="text-input"/>
                        <button type="button" id="sendDescBtn" class="btn btn-primary">üí¨ Send</button>
                    </div>
                </div>

                <!-- Xem tr∆∞·ªõc ·∫£nh -->
                <p class="image-label">User Image</p>
                <div class="shoe-box">
                <img id="preview" src="" alt="Image Preview" class="preview-img hidden"/>
                </div>

                <!-- M√¥ t·∫£ ng∆∞·ªùi d√πng -->
                <p class="user-description-label">User description</p>
                <div class="shoe-box">
                <p id="descriptionDisplay" class="result-text hidden"></p>
                </div>

                <!-- N√∫t ch·ª©c nƒÉng -->
                <div class="button-group">
                    <button type="button" id="classifyBtn" class="btn">üîç Classify</button>
                    <button type="button" id="gradCamBtn" class="btn">üî• Grad-CAM</button>
                    <button type="button" id="resetBtn" class="btn btn-reset">üîÑ Reset</button>
                </div>
            </form>

            <!-- K·∫øt qu·∫£ ph√¢n lo·∫°i -->
            <h4 class="classification-result">Classification Result</h4>
            <div class="shoe-box">
                <p id="classificationResult" class="result-text"></p>
            </div>
            <!-- Loading Indicator -->
            <div id="loadingIndicator" class="loading hidden">‚è≥ Processing...</div>

            <!-- Grad-CAM Result -->
            <h4 class="gradcam-result">Grad-CAM Result</h4>
            <div class="shoe-box">
            <img id="gradcamResult" src="" alt="Grad-CAM result" class="gradcam-img hidden" />
            </div>
        </div>

        <!-- C·ªôt b√™n ph·∫£i: Chatbot -->
        <div class="panel chatbot-panel">
            <h3>Shoe Chatbot</h3>
            <div id="chatbox" class="chatbox"></div>
            <div class="chat-input-group">
                <input type="text" id="chatInput" placeholder="Ask about shoes..." autocomplete="off"/>
                <button id="sendBtn" class="btn">üí¨ Send</button>
            </div>
            <button id="resetChat" class="btn btn-reset">üóë Reset Chat</button>
        </div>
    </div>
</body>
</html>
